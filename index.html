<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Red Finger Store - Neon</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        const myPhoneNumber = "6282322818690"; 
        let cart = {}; // Menggunakan object untuk menyimpan qty berdasarkan ID

        const codeProducts = [
            { id: 1, name: "VIP 7D", price: 21000 },
            { id: 2, name: "VIP 30D", price: 63000 },
            { id: 3, name: "KVIP 7D", price: 38000 },
            { id: 4, name: "KVIP 30D", price: 105000 },
            { id: 5, name: "SVIP 7D", price: 47000 },
            { id: 6, name: "SVIP 30D", price: 136000 }
        ];
        const jokiProducts = [
            { id: 7, name: "Joki War Normal", price: 12000, desc: "Proses 10M-3D" },
            { id: 8, name: "Joki Prio", price: 20000, desc: "Bebas Antri + Setting" },
            { id: 9, name: "Joki Req Server SG", price: 35000, desc: "Server High Quality" }
        ];

        function initApp() {
            renderList('list-code', codeProducts, 'blue');
            renderList('list-joki', jokiProducts, 'cyan');
            updateCartUI();
        }

        function renderList(targetId, products, color) {
            const container = document.getElementById(targetId);
            container.innerHTML = '';
            products.forEach(p => {
                const d = document.createElement('div');
                d.className = "bg-white p-4 rounded-2xl border-2 border-gray-100 shadow-sm flex justify-between items-center";
                d.innerHTML = `
                    <div class="flex-1">
                        <p class="font-black text-gray-800 text-sm">${p.name}</p>
                        <p class="text-${color}-600 font-black text-sm">Rp ${p.price.toLocaleString()}</p>
                        ${p.desc ? `<p class="text-[9px] text-gray-400 font-bold uppercase">${p.desc}</p>` : ''}
                    </div>
                    <div class="flex items-center gap-3 bg-gray-50 p-1 rounded-xl border">
                        <button onclick="changeQty(${p.id}, -1, '${p.name}', ${p.price})" class="w-8 h-8 flex items-center justify-center bg-white rounded-lg shadow-sm font-bold text-gray-500 hover:text-red-500">-</button>
                        <span id="qty-${p.id}" class="w-5 text-center font-black text-gray-700 text-sm">0</span>
                        <button onclick="changeQty(${p.id}, 1, '${p.name}', ${p.price})" class="w-8 h-8 flex items-center justify-center bg-${color}-600 text-white rounded-lg shadow-sm font-bold hover:bg-${color}-700">+</button>
                    </div>
                `;
                container.appendChild(d);
            });
        }

        function changeQty(id, delta, name, price) {
            if (!cart[id]) {
                cart[id] = { name: name, price: price, qty: 0 };
            }
            cart[id].qty += delta;
            if (cart[id].qty <= 0) {
                delete cart[id];
                document.getElementById(`qty-${id}`).innerText = "0";
            } else {
                document.getElementById(`qty-${id}`).innerText = cart[id].qty;
            }
            updateCartUI();
        }

        function updateCartUI() {
            const container = document.getElementById('cart-items');
            const totalEl = document.getElementById('total-price');
            const items = Object.values(cart);

            if (items.length === 0) {
                container.innerHTML = `<span class="text-gray-400 font-normal italic">Belum ada item terpilih...</span>`;
                totalEl.innerHTML = "Rp 0";
                return;
            }

            container.innerHTML = items.map(i => `
                <div class="bg-white p-2 rounded-lg mb-1 shadow-sm flex justify-between px-4 italic border text-[12px]">
                    <span>${i.qty}x ${i.name}</span>
                    <span>Rp ${(i.price * i.qty).toLocaleString()}</span>
                </div>
            `).join('');

            const total = items.reduce((sum, item) => sum + (item.price * item.qty), 0);
            totalEl.innerHTML = `Rp ${total.toLocaleString()}`;
        }

        function showQRIS() { document.getElementById('qris-modal').style.display = 'flex'; }
        function hideQRIS() { document.getElementById('qris-modal').style.display = 'none'; }
        function reloadImage() {
            const img = document.getElementById('qris-img');
            img.src = "https://raw.githubusercontent.com/neon300901/red-finger/main/295130.jpg?t=" + new Date().getTime();
        }

        function sendToWhatsApp() {
            const name = document.getElementById('buyer-name').value;
            const items = Object.values(cart);
            if (!name || items.length === 0) { alert("Isi nama dan tentukan jumlah paket!"); return; }
            
            const itemsStr = items.map(i => `âœ… ${i.qty}x ${i.name} (@Rp ${i.price.toLocaleString()})`).join('%0A');
            const total = items.reduce((sum, item) => sum + (item.price * item.qty), 0);
            
            const msg = `*ORDER NEON STORE*%0A-----------------------%0AðŸ‘¤ *Nama:* ${name}%0AðŸ›’ *Detail Pesanan:*%0A${itemsStr}%0A-----------------------%0AðŸ’° *TOTAL:* Rp ${total.toLocaleString()}%0A-----------------------%0AHalo Min, saya mau order paket di atas. Mohon diproses!`;
            window.open(`https://wa.me/${myPhoneNumber}?text=${msg}`, '_blank');
        }
    </script>
    <style>
        body { background: radial-gradient(circle at top right, #e0f2fe, #f3f4f6); min-height: 100vh; font-family: sans-serif; }
        #qris-modal { display: none; position: fixed; z-index: 100; inset: 0; background: rgba(0,0,0,0.9); backdrop-filter: blur(8px); }
    </style>
</head>
<body onload="initApp()" class="pb-10">

    <header class="bg-gradient-to-br from-blue-700 to-indigo-800 text-white pt-10 pb-16 px-6 text-center shadow-2xl rounded-b-[3rem]">
        <h1 class="text-4xl font-black uppercase italic tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-white to-blue-300">Neon Store</h1>
        <p class="text-blue-100 text-xs font-bold tracking-widest opacity-80 mt-1">RED FINGER REDEEM CODE & JOKI</p>
    </header>

    <div class="max-w-4xl mx-auto px-4 -mt-10">
        <div class="bg-white border-l-8 border-blue-600 p-5 mb-8 rounded-2xl shadow-xl text-[11px] font-bold uppercase text-gray-600">
            Joki sepaket dengan code â€¢ Bebas pilih jumlah â€¢ Konfirmasi pembayaran via WA.
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="space-y-4">
                <h2 class="text-lg font-black text-blue-900 px-2 border-l-4 border-blue-600 uppercase">Daftar Code</h2>
                <div id="list-code" class="space-y-3"></div>
            </div>
            <div class="space-y-4">
                <h2 class="text-lg font-black text-blue-900 px-2 border-l-4 border-cyan-500 uppercase">Jasa Joki</h2>
                <div id="list-joki" class="space-y-3"></div>
            </div>
        </div>

        <div class="mt-10 bg-white rounded-3xl shadow-2xl border p-6 md:p-8">
            <h2 class="text-xl font-black text-center text-gray-800 mb-6 uppercase italic">Ringkasan Pembelian</h2>
            <div class="bg-gray-50 rounded-2xl p-5 border-2 border-dashed mb-6 text-center">
                <div id="cart-items" class="text-sm font-bold text-blue-600 space-y-2 mb-3 text-left"></div>
                <div class="text-2xl font-black text-gray-900 border-t pt-3 flex justify-between items-center px-4">
                    <span class="text-sm text-gray-400">ESTIMASI TOTAL:</span>
                    <span id="total-price" class="text-blue-600">Rp 0</span>
                </div>
            </div>
            <input type="text" id="buyer-name" placeholder="Masukkan Nickname" class="w-full bg-gray-50 p-4 rounded-2xl border-2 mb-6 focus:border-blue-500 outline-none font-bold text-center">
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <button onclick="showQRIS()" class="bg-slate-800 text-white font-black py-4 rounded-2xl shadow-lg uppercase active:scale-95 transition-all">Lihat QRIS</button>
                <button onclick="sendToWhatsApp()" class="bg-blue-600 text-white font-black py-4 rounded-2xl shadow-lg uppercase active:scale-95 transition-all">Pesan Sekarang (WA)</button>
            </div>
        </div>
    </div>

    <div id="qris-modal" class="flex items-center justify-center p-4" onclick="hideQRIS()">
        <div class="bg-white rounded-[2.5rem] max-w-sm w-full p-8 text-center relative shadow-2xl" onclick="event.stopPropagation()">
            <button onclick="hideQRIS()" class="absolute -top-3 -right-3 bg-red-500 text-white w-10 h-10 rounded-full font-bold shadow-xl">X</button>
            <h3 class="text-xl font-black text-gray-800 mb-4">QRIS NEON STORE</h3>
            <div class="bg-gray-100 p-2 rounded-2xl mb-4 border shadow-inner overflow-hidden">
                <img id="qris-img" src="295130.jpg" class="w-full rounded-xl shadow-md min-h-[200px]" alt="Memuat QRIS...">
            </div>
            <button onclick="reloadImage()" class="text-[10px] text-blue-600 font-bold mb-4 underline">Klik untuk Refresh Gambar</button>
            <p class="text-[10px] text-gray-400 font-bold italic uppercase">Silakan SS dan scan untuk membayar.</p>
        </div>
    </div>
</body>
</html>
